{% extends 'base.html' %}

{% block title %}Enviar Paquete{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-8 max-w-2xl" x-data="packageForm">

    <h1 class="text-4xl font-extrabold text-gray-800 mb-8 text-center">Enviar un Paquete</h1>

    <div class="bg-white rounded-lg shadow-xl p-8 mb-8">
        <p class="text-gray-700 text-lg mb-6 text-center">
            Ingresa todos los detalles posibles para ser precisos en tu envÃ­o.
        </p>
        
        <form method="POST" action="{{ url_for('customer.create_package') }}" @submit.prevent="validateAndSubmit($event)"> 
		{{ form.csrf_token }}

            {{ form.csrf_token }}

            {% if form.errors %}
                <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4" role="alert">
                    <strong class="font-bold">Â¡Error!</strong>
                    <span class="block sm:inline">Por favor, corrige los siguientes errores:</span>
                    <ul class="mt-2 list-disc list-inside">
                    {% for field, errors in form.errors.items() %}
                        {% if field != 'csrf_token' %}
                            <li><strong>{{ form[field].label.text }}:</strong> {{ errors | join(', ') }}</li>
                        {% endif %}
                    {% endfor %}
                    </ul>
                </div>
            {% endif %}
			
			<!-- DESCRIPCIÃ“N -->
			<div>
				<label class="block text-sm font-semibold text-gray-700 mb-1">
					Â¿QuÃ© estÃ¡s enviando?
				</label>
				{{ form.descripcion(
					class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:outline-none",
					placeholder="Ej: Documentos, encomienda, regalo, etc."
				) }}
				{% for error in form.descripcion.errors %}
					<p class="text-red-500 text-sm mt-1">{{ error }}</p>
				{% endfor %}
			</div>

			<!-- NOMBRE RECEPTOR -->
			<div class="form-group">
				<label for="nombre_quien_recibe">Nombre de quien recibe</label>
				{{ form.nombre_quien_recibe(class="form-control", placeholder="Ej: Juan PÃ©rez") }}
				{% if form.nombre_quien_recibe.errors %}
					<small class="text-danger">
						{{ form.nombre_quien_recibe.errors[0] }}
					</small>
				{% endif %}
			</div>

			<!-- TELÃ‰FONO RECEPTOR -->
			<div class="form-group">
				<label for="telefono_quien_recibe">TelÃ©fono de quien recibe</label>
				{{ form.telefono_quien_recibe(class="form-control", placeholder="Ej: 3001234567") }}
				{% if form.telefono_quien_recibe.errors %}
					<small class="text-danger">
						{{ form.telefono_quien_recibe.errors[0] }}
					</small>
				{% endif %}
			</div>
	

            <div class="mt-8">
				
				<button type="submit" 
						class="w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition font-semibold text-lg shadow-md">
					<i class="fas fa-cart-plus mr-2"></i> ðŸšš Solicitar EnvÃ­o
				</button>
			</div>
        </form>
    </div>

    <div class="mt-8 text-center">
        <a href="{{ url_for('customer.dashboard') }}" class="text-blue-600 hover:underline font-semibold">
            <i class="fas fa-arrow-left mr-2"></i> Volver al Dashboard
        </a>
    </div>
</div>

{% endblock %}
