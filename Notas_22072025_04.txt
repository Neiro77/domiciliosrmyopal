

https://opencagedata.com/
b76a29b5b1fe4a11be70d81a9e901bf2
pip install requests

http://127.0.0.1:5000/registro_admin



Para imagenes temproales
https://via.placeholder.com/

psql
CREATE DATABASE rm_domicilios_casanare WITH ENCODING 'UTF8' LC_COLLATE='es_CO.UTF-8' LC_CTYPE='es_CO.UTF-8' TEMPLATE=template0;
\l rm_domicilios_casanare_db



En este punto, hemos cubierto:

Creación y listado de restaurantes.
Creación y listado de categorías de productos.
Creación y listado de productos.
Registro y login de usuarios (con vistas renderizadas).
Gestión de direcciones de cliente.
Gestión de formas de pago.
Creación de pedidos (involucrando selección de restaurante, carrito en el frontend, selección de dirección y forma de pago).
Visualización de los detalles del pedido.

Flujo General:

El cliente navega por los restaurantes.
Selecciona un restaurante y ve su menú.
Agrega productos al carrito (manejado principalmente en el frontend).
Va al resumen del carrito, selecciona dirección y forma de pago.
Confirma el pedido.
El backend procesa la confirmación, crea los registros en las tablas correspondientes y redirige a una página de confirmación.


Estoy pensando en obtener las ganancias por utilización de mi aplicación que involucraría a los motociclistas y a los clientes por el servicio:

Distancias:
Menor a 0.9 km, vale 6000
Entre 1 km y 1.9 km, vale 7000
Entre 2 km a 2.9 km, vale 8000
Entre 3 km a 3.5 km, vale 10000
Entre 3.6 km a 4.5 km, vale 15000
Entre 4.6 km a 5.5 km vale 19000
Entre 5.6 km a 6.5 km vale 25000
Entre 6.6 km a 7 km vale 30000

Cliente: 
1. Tiene la posibilidad de pagar adelantado por pse o en efectivo al recibir el domicilio.
2. El valor del domicilio varía según la distancia entre el restaurante y la dirección del cliente.

Motorizados:
1. deben recargar su cuenta con mínimo 10.000 para que puedan recibir domicilios.
2. El cobro de cada domicilio para el motocilcista es del 10% y se le descontará de los 10.000 que recargó.
3. El cobro del 10% se hace efectivo cuando el motorizado cambia el estado del pedido a Entregado.
4. El 10% que se le cobra al domiciliario automáticamente llega a mi cuenta bancaria y el resto es del domiciliario. 
5. Cuando se le acabe los 10.000 la aplicación web le indicará que debe de recargar para seguir trabajando.

Si tienes alguna idea adicional, te agradecería.


Si, iniciar a implementar el analisis de mi modelo de ganancias

Aquí te explico cómo generar una contraseña específica para aplicaciones en Gmail:

Ve a la configuración de tu cuenta de Google: Puedes hacerlo yendo a tu perfil de Gmail y haciendo clic en "Gestionar tu cuenta de Google".
Navega a la sección de "Seguridad": En el menú de la izquierda, selecciona "Seguridad".
Busca la sección "Cómo acceder a Google": Dentro de esta sección, busca la opción "Contraseña de aplicaciones". Es posible que esta opción no esté visible si no tienes habilitada la verificación en dos pasos.
Si la verificación en dos pasos está desactivada: Deberías habilitarla para poder usar contraseñas específicas para aplicaciones.
Si la verificación en dos pasos está activada: Haz clic en "Contraseña de aplicaciones". Es posible que te pida que vuelvas a iniciar sesión.
Selecciona la aplicación y el dispositivo: En el menú desplegable "Seleccionar aplicación", elige "Correo". En el menú desplegable "Seleccionar dispositivo", elige "Otro" y escribe un nombre descriptivo (por ejemplo, "Servidor Flask").
Haz clic en "Generar": Google te proporcionará una contraseña de 16 dígitos. Esta es la contraseña que debes usar en la configuración de MAIL_PASSWORD en tu archivo app.py en lugar de tu contraseña normal de Gmail.
Haz clic en "Listo".
Una vez que hayas generado y reemplazado tu contraseña de Gmail con la contraseña específica para aplicaciones en app.py:

Guarda los cambios en app.py.
Reinicia tu servidor de Flask.
Intenta crear un nuevo pedido
























Por trabajar: Mejoras en la interfaz de usuario: Refinar los templates HTML para que la aplicación sea más intuitiva y visualmente atractiva. Podríamos empezar a pensar en usar CSS para el diseño.


unción agregarAlCarrito():
Busca si el producto ya existe en el carrito.
Si existe, incrementa la cantidad.
Si no existe, añade un nuevo objeto al carrito con el ID, nombre, precio y cantidad (inicialmente 1).
Actualiza el totalCarrito.
Guarda el carrito y el total en localStorage.
Muestra una alerta al usuario.
Botón "Ir a Finalizar Pedido": Este botón (al final de la lista de productos) llama a la función irAFinalizarPedido().
Función irAFinalizarPedido():
Verifica si hay productos en el carrito y si se puede obtener el restauranteId (se asume que todos los productos en la página pertenecen al mismo restaurante).
Si ambas condiciones son verdaderas, redirige al usuario a la URL /finalizar_pedido/<restaurante_id>.
Si el carrito está vacío, muestra una alerta.
Puntos Clave:

localStorage: Se utiliza para almacenar temporalmente los datos del carrito en el navegador del usuario. Esto significa que el carrito persistirá incluso si el usuario navega a otras páginas del mismo sitio web o cierra y vuelve a abrir el navegador (dentro de la misma sesión/dominio).
Transferencia al Backend: Cuando el usuario hace clic en "Confirmar Pedido" en la página /finalizar_pedido, el JavaScript en esa página leerá el carrito y el total desde localStorage y los enviará al backend (/crear_pedido - POST) en el cuerpo de la petición JSON.
Manejo del Restaurante: En la función irAFinalizarPedido(), se asume que todos los productos mostrados pertenecen al mismo restaurante, por lo que se toma el restaurante_id del primer producto de la lista (esto podría necesitar un manejo más robusto dependiendo de la estructura de tu aplicación).


¿Hay algo más en lo que pueda ayudarte ahora que tienes la estructura base funcionando? Tal vez quieras personalizar el estilo CSS, agregar más elementos al menú, o trabajar en la funcionalidad de inicio de sesión y registro. ¡Estoy aquí para seguir colaborando contigo!






*****************************

Prueba el flujo completo:
Inicia sesión como cliente.
Navega a un restaurante.
Agrega productos al carrito.
Ve a "Finalizar Pedido" y verifica que el costo del domicilio se calcule y el total sea correcto.
Confirma el pedido y verifica que recibas el correo de confirmación con los detalles del domicilio.
Inicia sesión como motorizado.
Verifica que puedas ver los pedidos asignados y actualizar su estado.
Cambia un pedido a "Entregado" y verifica que el saldo del motorizado se actualice en la consola (y en la base de datos).
Inicia sesión como administrador y verifica las ganancias por comisiones en el dashboard.













        <div class="mb-6 text-right">
            <a href="{{ url_for('home') }}"
               class="inline-block bg-gray-200 text-gray-800 font-semibold py-2 px-4 rounded-md shadow-sm hover:bg-gray-300 transition duration-300">
                Volver al Inicio
            </a>
        </div>